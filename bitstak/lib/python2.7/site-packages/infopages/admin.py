from models import *
from django.contrib import admin

class InfoImageInline(admin.StackedInline):
    model = InfoImage

class InfoVideoInline(admin.StackedInline):
    model = InfoVideo

class InfoPageAdmin(admin.ModelAdmin):
    save_on_top = True
    list_display=('get_absolute_url','name','path','order') 
    list_editable=('order',) 
    prepopulated_fields = {"slug": ("name",)}
    list_filter=('active',)
    inlines = [InfoImageInline,InfoVideoInline]
    fieldsets = (
        (None, {
            'fields':('name','slug','title','parent','active','order','sites'),
        }),
        ("Content", {
            'fields':('body',),
        }),
        ("Advanced options", {
            'classes':('collapse',),
            'fields':('registration_required','template_name','url'),
        }),
    )
admin.site.register(InfoPage, InfoPageAdmin)


